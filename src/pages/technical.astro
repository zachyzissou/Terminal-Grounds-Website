---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout 
    title="Technical Details - Bloom" 
    description="Deep dive into the technical implementation, architecture, and systems behind Bloom."
    ogImage="/assets/images/renders/TG_PERFECT_Tech_Wastes_Exterior_Clean_SciFi_Perspective_Atmospheric_00001_.png">
    
    <main class="technical-page">
        <section class="hero-technical">
            <div class="container">
                <div class="technical-header">
                    <h1>Technical Implementation</h1>
                    <p class="technical-subtitle">Deep dive into the systems and architecture powering Bloom</p>
                </div>
            </div>
        </section>

        <section class="architecture-overview">
            <div class="container">
                <h2 class="section-title">System Architecture</h2>
                
                <div class="architecture-grid">
                    <div class="arch-card game-engine">
                        <h3>Game Engine</h3>
                        <div class="tech-stack">
                            <span class="tech">Unreal Engine 5</span>
                            <span class="tech">C++ Core Systems</span>
                            <span class="tech">Blueprint Integration</span>
                        </div>
                        <p>UE5 provides the foundation with custom WorldSubsystems for territorial management and faction control.</p>
                    </div>

                    <div class="arch-card backend">
                        <h3>Backend Infrastructure</h3>
                        <div class="tech-stack">
                            <span class="tech">WebSocket Real-time</span>
                            <span class="tech">SQLite Database</span>
                            <span class="tech">Node.js/Express</span>
                        </div>
                        <p>Real-time territorial updates supporting 100+ concurrent players with sub-500ms latency.</p>
                    </div>

                    <div class="arch-card asset-pipeline">
                        <h3>Asset Pipeline</h3>
                        <div class="tech-stack">
                            <span class="tech">ComfyUI FLUX1-dev-fp8</span>
                            <span class="tech">Systematic Parameter Optimization</span>
                            <span class="tech">92% Success Rate</span>
                        </div>
                        <p>Breakthrough AI asset generation with heun/normal/CFG 3.2/25 steps configuration.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="performance-metrics">
            <div class="container">
                <h2 class="section-title">Performance Achievements</h2>
                
                <div class="performance-grid">
                    <div class="perf-card database">
                        <div class="perf-header">
                            <h3>Database Performance</h3>
                            <span class="perf-badge excellent">Excellent</span>
                        </div>
                        <div class="perf-stats">
                            <div class="stat">
                                <span class="stat-value">0.04ms</span>
                                <span class="stat-label">Average Query Time</span>
                            </div>
                            <div class="stat">
                                <span class="stat-value">99.9%</span>
                                <span class="stat-label">Better Than Requirements</span>
                            </div>
                        </div>
                        <p>SQLite optimization exceeding all performance targets for territorial control queries.</p>
                    </div>

                    <div class="perf-card websocket">
                        <div class="perf-header">
                            <h3>Real-time Updates</h3>
                            <span class="perf-badge production">Production Ready</span>
                        </div>
                        <div class="perf-stats">
                            <div class="stat">
                                <span class="stat-value">&lt;500ms</span>
                                <span class="stat-label">Update Latency</span>
                            </div>
                            <div class="stat">
                                <span class="stat-value">100+</span>
                                <span class="stat-label">Concurrent Players</span>
                            </div>
                        </div>
                        <p>WebSocket infrastructure supporting real-time territorial warfare updates.</p>
                    </div>

                    <div class="perf-card generation">
                        <div class="perf-header">
                            <h3>Asset Generation</h3>
                            <span class="perf-badge breakthrough">Breakthrough</span>
                        </div>
                        <div class="perf-stats">
                            <div class="stat">
                                <span class="stat-value">92%</span>
                                <span class="stat-label">Success Rate</span>
                            </div>
                            <div class="stat">
                                <span class="stat-value">310s</span>
                                <span class="stat-label">Generation Time</span>
                            </div>
                        </div>
                        <p>Revolutionary improvement from 10% to 92% success rate through systematic optimization.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="technical-details">
            <div class="container">
                <h2 class="section-title">Technical Deep Dive</h2>
                
                <div class="details-grid">
                    <div class="detail-section">
                        <h3>Territorial Control System</h3>
                        <div class="code-example">
                            <h4>TGTerritorialManager WorldSubsystem</h4>
                            <ul>
                                <li>Real-time faction territory updates</li>
                                <li>WebSocket communication layer</li>
                                <li>Optimized spatial queries for zone control</li>
                                <li>Integration with UE5 gameplay framework</li>
                            </ul>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h3>Asset Generation Pipeline</h3>
                        <div class="code-example">
                            <h4>FLUX1-dev-fp8 Optimization</h4>
                            <ul>
                                <li>Sampler: heun (critical breakthrough parameter)</li>
                                <li>Scheduler: normal (optimal stability)</li>
                                <li>CFG Scale: 3.2 (perfect balance point)</li>
                                <li>Steps: 25 (efficiency optimized)</li>
                                <li>Resolution: 1536x864 (production standard)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h3>Quality Assurance Framework</h3>
                        <div class="code-example">
                            <h4>4-Tier Evaluation System</h4>
                            <ul>
                                <li>Composition scoring (0-100)</li>
                                <li>Detail assessment (0-100)</li>
                                <li>Technical quality (0-100)</li>
                                <li>Lore alignment (0-100)</li>
                                <li>Pass threshold: 85+ overall score</li>
                            </ul>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h3>Database Architecture</h3>
                        <div class="code-example">
                            <h4>SQLite Optimization</h4>
                            <ul>
                                <li>Indexed spatial queries for territory lookup</li>
                                <li>Connection pooling for concurrent access</li>
                                <li>Write-ahead logging for consistency</li>
                                <li>Query optimization achieving 0.04ms averages</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="development-tools">
            <div class="container">
                <h2 class="section-title">Development Pipeline</h2>
                
                <div class="tools-grid">
                    <div class="tool-category">
                        <h3>Asset Creation</h3>
                        <ul class="tool-list">
                            <li>ComfyUI for AI generation</li>
                            <li>FLUX1-dev-fp8 model</li>
                            <li>Custom parameter optimization scripts</li>
                            <li>Quality assessment automation</li>
                        </ul>
                    </div>

                    <div class="tool-category">
                        <h3>Game Development</h3>
                        <ul class="tool-list">
                            <li>Unreal Engine 5.4+</li>
                            <li>Visual Studio 2022</li>
                            <li>Perforce version control</li>
                            <li>Custom build automation</li>
                        </ul>
                    </div>

                    <div class="tool-category">
                        <h3>Backend Services</h3>
                        <ul class="tool-list">
                            <li>Node.js with Express</li>
                            <li>WebSocket.io for real-time</li>
                            <li>SQLite with optimizations</li>
                            <li>Docker for containerization</li>
                        </ul>
                    </div>

                    <div class="tool-category">
                        <h3>Monitoring & Analytics</h3>
                        <ul class="tool-list">
                            <li>Performance profiling tools</li>
                            <li>Database query analysis</li>
                            <li>Real-time metrics dashboard</li>
                            <li>Error tracking and logging</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section class="optimization-breakthroughs">
            <div class="container">
                <h2 class="section-title">Key Breakthroughs</h2>
                
                <div class="breakthrough-timeline">
                    <div class="breakthrough-item">
                        <h3>Asset Generation Optimization</h3>
                        <p>Systematic parameter testing revealed the optimal FLUX1-dev-fp8 configuration, improving success rates from 10% to 92%.</p>
                        <div class="breakthrough-metrics">
                            <span>920% improvement</span>
                            <span>Production ready</span>
                        </div>
                    </div>

                    <div class="breakthrough-item">
                        <h3>Database Performance</h3>
                        <p>Query optimization and indexing strategies achieved 0.04ms average response times, far exceeding requirements.</p>
                        <div class="breakthrough-metrics">
                            <span>99.9% better than target</span>
                            <span>Production scalable</span>
                        </div>
                    </div>

                    <div class="breakthrough-item">
                        <h3>Real-time Infrastructure</h3>
                        <p>WebSocket optimization enabling 100+ concurrent players with sub-500ms territorial update latency.</p>
                        <div class="breakthrough-metrics">
                            <span>&lt;500ms latency</span>
                            <span>100+ concurrent users</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
</BaseLayout>